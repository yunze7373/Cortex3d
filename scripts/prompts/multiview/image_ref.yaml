name: image_reference
version: "3.2"
description: "å›¾ç‰‡å‚è€ƒæ¨¡å¼æ¨¡æ¿ - Geminiä¼˜åŒ–ï¼Œæ— è¡¨æ ¼ï¼Œçº¯è‡ªç„¶è¯­è¨€"

template: |
  {output_type_description}

  ## OUTPUT LAYOUT
  Single image with {layout_description}: {panel_list}

  {reference_context}

  ## REQUIRED VIEWS ({view_count} total)
  {view_descriptions}

  ## SUBJECT DESCRIPTION (from reference)
  {character_description}

  ## âš ï¸ STYLE REQUIREMENTS
  {style_instructions}

  ## ğŸš¨ ABSOLUTE RULE: POSE/POSITION IS LOCKED - ZERO CHANGES ALLOWED ğŸš¨
  
  The subject is FROZEN. Only the camera moves around it.
  
  ### ğŸ”’ SPATIAL LOCK INSTRUCTIONS:
  
  Every element must match the reference EXACTLY across all views:
  - HEAD: Must remain LOCKED in the same tilt and rotation.
  - GAZE: Must remain LOCKED relative to the body, never correcting toward camera.
  - ARMS: Must remain LOCKED in the same position and bend angle.
  - LEGS: Must remain LOCKED in the same stance and crossing order.
  - TORSO: Must remain LOCKED in the same lean and twist.
  - OBJECTS: Must remain LOCKED in the same position relative to subject.

  ### ğŸ¯ KEY CONCEPT: Positions are relative to BODY, not CAMERA
  
  When camera moves, the APPEARANCE changes but ACTUAL POSITIONS stay the same.
  
  âŒ WRONG: "Correcting" poses to look more standard in each view
  âŒ WRONG: Swapping left/right positions based on camera angle
  âŒ WRONG: Making subject face forward in every view
  âœ… RIGHT: All spatial relationships from reference are preserved
  {top_bottom_instructions}
  ## âš ï¸ LEFT vs RIGHT VIEW DISTINCTION
  
  For the RIGHT view, the camera is positioned to the right of the subject, so the subject's front points toward the LEFT edge of the image.
  For the LEFT view, the camera is positioned to the left of the subject, so the subject's front points toward the RIGHT edge of the image.

  ## BACKGROUND & PHYSICS
  - Solid neutral gray or white background
  - No visible floor, horizon line, or surface texture
  - Feet may lightly contact an implied surface (no visible geometry)
  - âŒ NO turntable, platform, pedestal, or disc under feet
  - âœ… Clean seamless background, natural grounded positioning

  ## PANEL LAYOUT
  - {layout_description}
  - Same scale in all panels
  - NO text labels

  âš ï¸ Generate EXACTLY {view_count} view(s) as specified.

variables:
  - character_description
  - view_count
  - layout_description
  - panel_list
  - view_descriptions
  - reference_context
  - style_instructions
  - output_type_description
  - top_bottom_instructions

# åŠ¨æ€å†…å®¹é¢„è®¾
dynamic_content:
  # æ ¹æ®é£æ ¼ç±»å‹ç”Ÿæˆä¸åŒçš„è¾“å‡ºç±»å‹æè¿°
  output_type_photorealistic: |
    Generate a multi-view photo composite with exactly {view_count} panel(s), showing the same person/subject from different camera angles.
  
  output_type_default: |
    Generate a multi-view reference sheet with exactly {view_count} panel(s), based on the reference image.
  
  # TOP/BOTTOM è¯´æ˜ï¼ˆä»…å½“åŒ…å«è¿™äº›è§†è§’æ—¶æ·»åŠ ï¼‰
  top_bottom_hint: |
    
    **TOP/BOTTOM VIEWS**: Camera above/below looking at the subject. Pose stays EXACTLY the same - only camera angle changes.

# é£æ ¼æŒ‡ä»¤é¢„è®¾
style_presets:
  photorealistic: |
    **PHOTOREALISTIC STYLE - REAL PHOTO QUALITY:**
    - Generate as if photographed by a professional camera
    - Realistic skin texture, natural lighting, real photography look
    - âŒ DO NOT generate as: cartoon, 3D render, CGI, illustration
    - âœ… MUST look like: actual photographs of a real person/subject
  
  anime: |
    **ANIME/2D STYLE REQUIRED:**
    - Anime/manga art style with cell shading
    - Clean line art, vibrant colors
    - Stylized proportions typical of anime
    - âŒ DO NOT generate as: photorealistic, 3D render
  
  default: |
    **STYLE CONSISTENCY:**
    - Match the visual style of the reference image exactly
    - If reference is a photo â†’ generate photorealistic views
    - If reference is artwork â†’ match that art style
    - Maintain consistent style across all panels
