name: image_reference
version: "2.6"
description: "图片参考模式模板 - 通用方向描述，支持风格控制，强调姿势一致性"

template: |
  Generate a 3D reference sheet with exactly {view_count} panel(s), based on the reference image.

  ## OUTPUT LAYOUT
  Single image with {layout_description}: {panel_list}

  {reference_context}

  ## REQUIRED VIEWS ({view_count} total)
  {view_descriptions}

  ## OBJECT/CHARACTER DESCRIPTION (from reference)
  {character_description}

  ## ⚠️ CRITICAL: STYLE CONSISTENCY
  {style_instructions}

  ## ⚠️⚠️⚠️ MOST CRITICAL: POSE MUST BE 100% IDENTICAL IN ALL VIEWS ⚠️⚠️⚠️
  
  **THE SUBJECT IS FROZEN LIKE A STATUE. THE CAMERA MOVES, NOT THE SUBJECT.**
  
  Imagine the person/object is:
  - Completely FROZEN in the EXACT pose from the reference image
  - Like a statue or mannequin - absolutely no movement allowed
  - The camera orbits around this frozen subject
  
  **EVERY SINGLE VIEW must show:**
  - SAME arm positions (if arms are down, they stay down in ALL views)
  - SAME leg positions (if standing straight, stay standing straight in ALL views)
  - SAME head angle (if looking forward, head stays looking forward in ALL views)
  - SAME body posture (if standing upright, stay upright even in TOP/BOTTOM views)
  - SAME hand positions, finger positions, everything
  
  **FOR TOP VIEW (looking down from above):**
  - Camera is above looking DOWN at the frozen subject
  - Subject does NOT bend over or look down
  - Subject maintains the SAME upright standing pose
  - We see the top of the head, shoulders from above
  
  **FOR BOTTOM VIEW (looking up from below):**
  - Camera is below looking UP at the frozen subject
  - Subject does NOT lie down or change pose
  - Subject maintains the SAME upright standing pose
  - We see the underside of chin, feet from below
  
  ❌ FORBIDDEN - DO NOT:
  - Change any body part position between views
  - Make the subject bend, crouch, or adjust for camera angle
  - Have the subject look toward the camera in each view
  - Alter arm/leg positions to "fit" the view better
  
  ✅ CORRECT - The subject is a FROZEN STATUE, camera moves around it

  ## ⚠️ LEFT vs RIGHT VIEW DISTINCTION
  
  Think of the camera orbiting around the frozen subject:
  
  | View  | Camera Position | Object's Front Points To |
  |-------|-----------------|-------------------------|
  | RIGHT | Right of object | LEFT edge of image      |
  | LEFT  | Left of object  | RIGHT edge of image     |
  
  ⚠️ These are views from OPPOSITE sides - NOT mirrors!

  ## BACKGROUND
  - Solid neutral gray or white background
  - ❌ NO turntable, platform, or any surface
  - ✅ Object appears to float naturally

  ## PANEL LAYOUT
  - {layout_description}
  - Same scale in all panels
  - NO text labels

  ⚠️ IMPORTANT: Generate EXACTLY {view_count} view(s) as specified. No more, no less.

variables:
  - character_description
  - view_count
  - layout_description
  - panel_list
  - view_descriptions
  - reference_context
  - style_instructions

# 风格指令预设
style_presets:
  photorealistic: |
    **PHOTOREALISTIC STYLE REQUIRED:**
    - Match the EXACT style of the reference image (real person photo)
    - Generate as if photographed by a professional camera (8K, RAW photo quality)
    - Realistic skin texture with pores, fine details, and natural imperfections
    - Natural lighting and shadows as in real photography
    - ❌ DO NOT generate as: anime, cartoon, 3D render, CGI, illustration, digital art
    - ❌ DO NOT add: plastic/smooth skin, exaggerated features, stylized proportions
    - ✅ MUST look like: actual photograph of a real person
  
  anime: |
    **ANIME/2D STYLE REQUIRED:**
    - Anime/manga art style with cell shading
    - Clean line art, vibrant colors
    - Stylized proportions typical of anime
    - ❌ DO NOT generate as: photorealistic, 3D render
  
  default: |
    **STYLE CONSISTENCY:**
    - Match the visual style of the reference image exactly
    - If reference is a photo → generate photorealistic views
    - If reference is artwork → match that art style
    - Maintain consistent style across all panels
