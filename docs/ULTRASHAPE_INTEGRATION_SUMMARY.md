# UltraShape é›†æˆå®Œæˆæ€»ç»“

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. æ ¸å¿ƒè„šæœ¬å¼€å‘
- âœ… **run_ultrashape.py** - é€šç”¨ç»†åŒ–è„šæœ¬
  - æ”¯æŒæ‰€æœ‰æ¨¡å‹è¾“å‡ºï¼ˆInstantMeshã€TripoSRã€TRELLIS.2ã€Hunyuan3Dï¼‰
  - 4 æ¡£è´¨é‡é¢„è®¾ï¼ˆfast/balanced/high/ultraï¼‰
  - ä½æ˜¾å­˜ä¼˜åŒ–æ¨¡å¼
  - å®Œæ•´é”™è¯¯å¤„ç†å’Œæ—¥å¿—

### 2. Docker é›†æˆ
- âœ… **Dockerfile.ultrashape** - UltraShape å®¹å™¨é•œåƒ
  - åŸºäº CUDA 12.1 + Ubuntu 22.04
  - åŒ…å«æ‰€æœ‰ä¾èµ–ï¼ˆPyTorch 2.5.1ã€cubvhã€flash-attnï¼‰
  - Gradio UI æ”¯æŒ

- âœ… **compose.yml** - æ·»åŠ  ultrashape æœåŠ¡
  - ç‹¬ç«‹å®¹å™¨è¿è¡Œ
  - å…±äº«è¾“å‡ºç›®å½•
  - æ¨¡å‹æƒé‡åªè¯»æŒ‚è½½
  - ç«¯å£æ˜ å°„ï¼š7863 (Gradio UI)

### 3. Makefile å‘½ä»¤æ‰©å±•
- âœ… æ–°å¢ UltraShape ç›¸å…³å‘½ä»¤ï¼š
  ```bash
  make build-ultrashape              # æ„å»ºå®¹å™¨
  make run-ultrashape-ui             # å¯åŠ¨ UI
  make refine-mesh                   # é€šç”¨ç»†åŒ–
  make refine-fast                   # å¿«é€Ÿç»†åŒ–
  make refine-high                   # é«˜è´¨é‡ç»†åŒ–
  ```

- âœ… é›†æˆæµæ°´çº¿å‘½ä»¤ï¼š
  ```bash
  make pipeline-instantmesh-refined  # InstantMesh + UltraShape
  make pipeline-trellis2-refined     # TRELLIS.2 + UltraShape
  make pipeline-hunyuan-refined      # Hunyuan3D + UltraShape
  make pipeline-triposr-refined      # TripoSR + UltraShape
  make refine-existing               # æ‰¹é‡ç»†åŒ–
  ```

### 4. æ–‡æ¡£ç¼–å†™
- âœ… **docs/ULTRASHAPE_RESEARCH.md** - å®Œæ•´æŠ€æœ¯æŠ¥å‘Š
  - é¡¹ç›®æ¦‚è§ˆå’ŒæŠ€æœ¯ç»†èŠ‚
  - ä¸ç°æœ‰æ¨¡å‹å¯¹æ¯”åˆ†æ
  - é›†æˆæ–¹æ¡ˆè®¾è®¡
  - å®æ–½è·¯çº¿å›¾ï¼ˆ4é˜¶æ®µï¼‰
  - ä»£ç ç¤ºä¾‹å’Œæœ€ä½³å®è·µ

- âœ… **docs/ULTRASHAPE_USAGE.md** - ä½¿ç”¨æŒ‡å—
  - å¿«é€Ÿå¼€å§‹æ•™ç¨‹
  - å®Œæ•´æµæ°´çº¿ç¤ºä¾‹
  - è´¨é‡é¢„è®¾è¯¦è§£
  - æ‰¹é‡å¤„ç†æ–¹æ³•
  - å¸¸è§é—®é¢˜è§£ç­”

- âœ… **README.md** - é¡¹ç›®ä¸»æ–‡æ¡£
  - UltraShape é›†æˆè¯´æ˜
  - æ¨¡å‹å¯¹æ¯”è¡¨æ ¼
  - å¿«é€Ÿå‘½ä»¤å‚è€ƒ
  - æ•…éšœæ’é™¤æŒ‡å—

- âœ… **QUICKREF.md** - å¿«é€Ÿå‚è€ƒå¡
  - å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
  - å·¥ä½œæµæ¨è
  - è´¨é‡å¯¹æ¯”è¡¨

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### é€šç”¨ç»†åŒ–èƒ½åŠ›
UltraShape ç°åœ¨å¯ä»¥ç»†åŒ–ï¼š
- âœ… InstantMesh è¾“å‡ºï¼ˆ.objï¼‰
- âœ… TripoSR è¾“å‡ºï¼ˆ.obj/.glbï¼‰
- âœ… TRELLIS.2 è¾“å‡ºï¼ˆ.glbï¼‰
- âœ… Hunyuan3D ç³»åˆ—è¾“å‡ºï¼ˆ.glbï¼‰
- âœ… ä»»æ„å¤–éƒ¨ 3D ç½‘æ ¼æ–‡ä»¶

### çµæ´»é…ç½®
- âœ… 4 æ¡£è´¨é‡é¢„è®¾ï¼ˆè‡ªåŠ¨å‚æ•°ä¼˜åŒ–ï¼‰
- âœ… æ‰‹åŠ¨å‚æ•°è¦†ç›–æ”¯æŒ
- âœ… ä½æ˜¾å­˜æ¨¡å¼ï¼ˆ8GB VRAM å¯ç”¨ï¼‰
- âœ… æ‰¹é‡å¤„ç†è„šæœ¬

### å®Œæ•´æµæ°´çº¿
```
å›¾åƒè¾“å…¥ â†’ [ä»»æ„æ¨¡å‹ç”Ÿæˆ] â†’ UltraShape ç»†åŒ– â†’ é«˜ä¿çœŸè¾“å‡º
```

---

## ğŸ“ æ–°å¢æ–‡ä»¶æ¸…å•

```
Cortex3d/
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ run_ultrashape.py               â­ NEW - é€šç”¨ç»†åŒ–è„šæœ¬
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ULTRASHAPE_RESEARCH.md          â­ NEW - æŠ€æœ¯æŠ¥å‘Š
â”‚   â””â”€â”€ ULTRASHAPE_USAGE.md             â­ NEW - ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ Dockerfile.ultrashape               â­ NEW - Docker é•œåƒ
â”œâ”€â”€ README.md                           âœï¸ UPDATED - ä¸»æ–‡æ¡£
â”œâ”€â”€ QUICKREF.md                         â­ NEW - å¿«é€Ÿå‚è€ƒ
â”œâ”€â”€ compose.yml                         âœï¸ UPDATED - æ·»åŠ  ultrashape æœåŠ¡
â””â”€â”€ Makefile                            âœï¸ UPDATED - æ–°å¢å‘½ä»¤
```

---

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç»†åŒ– InstantMesh è¾“å‡º
```bash
# æ­¥éª¤ 1: ç”Ÿæˆç²—ç³™ç½‘æ ¼
make reconstruct IMAGE=character.png

# æ­¥éª¤ 2: ç»†åŒ–
make refine-mesh IMAGE=character.png MESH=outputs/latest.obj

# è¾“å‡º:
# - outputs/latest.obj (åŸå§‹)
# - outputs/ultrashape/latest_refined.glb (ç»†åŒ–)
```

### ç¤ºä¾‹ 2: ä¸€é”®å®Œæ•´æµç¨‹
```bash
# Hunyuan3D + UltraShapeï¼ˆæ¨èï¼‰
make pipeline-hunyuan-refined IMAGE=character.png

# è‡ªåŠ¨å®Œæˆï¼šç”Ÿæˆ â†’ ç»†åŒ– â†’ è¾“å‡º
```

### ç¤ºä¾‹ 3: æ‰¹é‡ç»†åŒ–å·²æœ‰æ¨¡å‹
```bash
# ç»†åŒ– Hunyuan3D ç›®å½•ä¸‹æ‰€æœ‰ç½‘æ ¼
make refine-existing DIR=hunyuan3d_omni IMAGE=ref.png PRESET=fast

# ç»†åŒ–æ‰€æœ‰ TRELLIS.2 è¾“å‡º
make refine-existing DIR=trellis2 IMAGE=ref.png PRESET=balanced
```

### ç¤ºä¾‹ 4: äº¤äº’å¼ UI
```bash
# å¯åŠ¨ Gradio ç•Œé¢
make run-ultrashape-ui

# æµè§ˆå™¨è®¿é—® http://localhost:7863
# ä¸Šä¼ å›¾åƒ + ç½‘æ ¼ â†’ è°ƒæ•´å‚æ•° â†’ ç‚¹å‡»è¿è¡Œ
```

---

## âš™ï¸ ä¸‹ä¸€æ­¥æ“ä½œ

### ç«‹å³å¯åš
1. **ä¸‹è½½æ¨¡å‹æƒé‡**
   ```bash
   git lfs clone https://huggingface.co/infinith/UltraShape models/ultrashape
   ```

2. **æ„å»ºå®¹å™¨**
   ```bash
   make build-ultrashape
   ```

3. **æµ‹è¯•ç»†åŒ–**
   ```bash
   # å…ˆç”Ÿæˆä¸€ä¸ªç½‘æ ¼ï¼ˆä»»æ„æ¨¡å‹ï¼‰
   make reconstruct IMAGE=test_images/your_image.png
   
   # ç„¶åç»†åŒ–
   make refine-fast IMAGE=your_image.png MESH=outputs/latest.obj
   ```

### åç»­ä¼˜åŒ–ï¼ˆå¯é€‰ï¼‰
- [ ] å®ç°è‡ªåŠ¨è´¨é‡è¯„ä¼°ï¼ˆå†³å®šæ˜¯å¦éœ€è¦ç»†åŒ–ï¼‰
- [ ] æ·»åŠ å¢é‡ç»†åŒ–ï¼ˆå±€éƒ¨ç»†åŒ–é«˜ä»·å€¼åŒºåŸŸï¼‰
- [ ] é›†æˆåˆ° Blender åå¤„ç†æµç¨‹
- [ ] ç¼“å­˜æœºåˆ¶ï¼ˆé¿å…é‡å¤ç»†åŒ–ç›¸åŒç½‘æ ¼ï¼‰

---

## ğŸ“ æŠ€æœ¯äº®ç‚¹

### 1. æ¶æ„è®¾è®¡
- **è§£è€¦è®¾è®¡**: UltraShape ä½œä¸ºç‹¬ç«‹æœåŠ¡ï¼Œä¸å½±å“ç°æœ‰æµæ°´çº¿
- **é€šç”¨æ¥å£**: ç»Ÿä¸€å¤„ç†æ‰€æœ‰æ¨¡å‹è¾“å‡ºæ ¼å¼
- **çµæ´»é…ç½®**: é¢„è®¾ + æ‰‹åŠ¨å‚æ•° = å…¨é¢æ§åˆ¶

### 2. ç”¨æˆ·ä½“éªŒ
- **ä¸€é”®æµæ°´çº¿**: `make pipeline-xxx-refined` è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤
- **æ¸è¿›å¼é‡‡ç”¨**: å¯é€‰å¯ç”¨ï¼Œå‘ä¸‹å…¼å®¹ç°æœ‰æµç¨‹
- **æ¸…æ™°æ–‡æ¡£**: ä»å¿«é€Ÿå¼€å§‹åˆ°æŠ€æœ¯ç»†èŠ‚ï¼Œé€å±‚æ·±å…¥

### 3. å·¥ç¨‹å®è·µ
- **Docker éš”ç¦»**: ç‹¬ç«‹ç¯å¢ƒï¼Œé¿å…ä¾èµ–å†²çª
- **é”™è¯¯å¤„ç†**: å®Œæ•´æ—¥å¿—å’Œå‹å¥½é”™è¯¯æç¤º
- **æ‰¹é‡æ”¯æŒ**: ç”Ÿäº§çº§æ‰¹é‡å¤„ç†èƒ½åŠ›

---

## ğŸ“Š æ€§èƒ½å‚æ•°

| é…ç½® | æ—¶é—´ | æ˜¾å­˜ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| Fast | ~30s | 8GB | å¿«é€Ÿé¢„è§ˆ |
| Balanced | ~2min | 16GB | æ—¥å¸¸ç”Ÿäº§ â­ |
| High | ~5min | 24GB | é«˜è´¨é‡äº¤ä»˜ |
| Ultra | ~10min | 32GB | æè‡´ç»†èŠ‚ |

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### è®¸å¯è¯é™åˆ¶
- UltraShape ä½¿ç”¨ **TENCENT HUNYUAN NON-COMMERCIAL LICENSE**
- ä»…é™éå•†ä¸šä½¿ç”¨
- å•†ä¸šåœºæ™¯éœ€é¢å¤–æˆæƒ

### ç³»ç»Ÿè¦æ±‚
- **æ˜¾å­˜**: æ¨è 16GB+ï¼ˆæœ€ä½ 8GB ä½¿ç”¨ fast é¢„è®¾ï¼‰
- **å­˜å‚¨**: é¢„ç•™ 10GB+ï¼ˆæ¨¡å‹æƒé‡çº¦ 4-6GBï¼‰
- **GPU**: CUDA 12.1+ å…¼å®¹æ˜¾å¡

### å·²çŸ¥é™åˆ¶
- UltraShape **ä»…ç»†åŒ–å‡ ä½•**ï¼Œä¸ç”Ÿæˆ/ä¿®æ”¹çº¹ç†
- é€‚åˆé…åˆæœ‰çº¹ç†çš„æ¨¡å‹ä½¿ç”¨ï¼ˆå¦‚ Hunyuan3Dï¼‰
- æ¨ç†æ—¶é—´è¾ƒé•¿ï¼ˆéå®æ—¶ï¼‰

---

## ğŸ‰ æ€»ç»“

### é›†æˆä»·å€¼
âœ… **é€šç”¨æ€§** - ä¸€ä¸ªç»†åŒ–å™¨æœåŠ¡æ‰€æœ‰æ¨¡å‹  
âœ… **é«˜è´¨é‡** - æ˜¾è‘—æå‡å‡ ä½•ç²¾åº¦  
âœ… **æ˜“ç”¨æ€§** - ä¸€é”®æµæ°´çº¿ï¼Œé›¶é…ç½®  
âœ… **çµæ´»æ€§** - 4 æ¡£é¢„è®¾ + æ‰‹åŠ¨å¾®è°ƒ  
âœ… **ç”Ÿäº§çº§** - æ‰¹é‡å¤„ç† + é”™è¯¯æ¢å¤  

### ä¸é¡¹ç›®ç›®æ ‡å¥‘åˆåº¦
- âœ… **æ‰‹åŠåˆ¶ä½œ**: é«˜ç²¾åº¦å‡ ä½•æ˜¯æ ¸å¿ƒéœ€æ±‚
- âœ… **3D æ‰“å°**: æ°´å¯†ç½‘æ ¼ä¿è¯æ‰“å°æˆåŠŸç‡
- âœ… **å·¥ä¸šæµæ°´çº¿**: æ‰¹é‡å¤„ç†èƒ½åŠ›
- âœ… **æŠ€æœ¯å…ˆè¿›æ€§**: æœ€æ–°ï¼ˆ2025-12ï¼‰å¼€æºæ–¹æ¡ˆ

### åç»­è§„åˆ’
1. **çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰**: ç”¨æˆ·æµ‹è¯•å’Œå‚æ•°ä¼˜åŒ–
2. **ä¸­æœŸï¼ˆ1ä¸ªæœˆï¼‰**: é›†æˆåˆ° Blender åå¤„ç†
3. **é•¿æœŸï¼ˆæŒç»­ï¼‰**: æ¢ç´¢å…¶ä»–åå¤„ç†å™¨é›†æˆ

---

**é›†æˆå®Œæˆæ—¶é—´**: 2026-01-21  
**ç‰ˆæœ¬**: Cortex3d v2.1 (with UltraShape)  
**çŠ¶æ€**: âœ… å°±ç»ªï¼Œç­‰å¾…æµ‹è¯•
