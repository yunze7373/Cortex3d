# Cortex3d ç°ä»£åŒ–å‚æ•°ä½¿ç”¨æŒ‡å—

## ğŸ¯ å‚æ•°åˆ†ç±»é‡æ„è¯´æ˜

æˆ‘ä»¬å¯¹ `generate_character.py` çš„å‚æ•°è¿›è¡Œäº†å…¨é¢é‡æ„ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç»„ï¼Œä½¿ç”¨æ›´ç›´è§‚çš„å‘½åè§„èŒƒï¼Œå¹¶å¢åŠ äº†ä¸°å¯Œçš„å¸®åŠ©ä¿¡æ¯ã€‚

## ğŸ“š å‚æ•°ç»„ç»“æ„

### ğŸ“ åŸºç¡€è®¾ç½® (Basic Arguments)
æ§åˆ¶åŸºæœ¬ç”Ÿæˆå‚æ•°å’Œè®¤è¯è®¾ç½®
```bash
description              # è§’è‰²æè¿°æ–‡æœ¬
--mode {proxy,direct,local}  # ç”Ÿæˆæ¨¡å¼ (é»˜è®¤: proxy)
--token TOKEN            # è®¤è¯ä»¤ç‰Œ (è‡ªåŠ¨é€‰æ‹©ç¯å¢ƒå˜é‡)
--output DIR             # è¾“å‡ºç›®å½• (é»˜è®¤: test_images)
--preview                # ç”Ÿæˆåè‡ªåŠ¨é¢„è§ˆç»“æœ
```

### ğŸ“¥ è¾“å…¥æºè®¾ç½® (Input Sources)  
æŒ‡å®šè¾“å…¥å›¾åƒå’Œæ•°æ®æº
```bash
--input IMAGE            # å‚è€ƒå›¾åƒè·¯å¾„ (æ–°åˆ«å: --from-image)
--from-id ID             # ä½¿ç”¨å·²å­˜åœ¨å›¾åƒIDè·³è¿‡2Dç”Ÿæˆ
--strict                 # ä¸¥æ ¼å¤åˆ¶æ¨¡å¼: 100%åŸºäºå‚è€ƒå›¾åƒç”Ÿæˆ
```

### ğŸ‘ï¸ è§†è§’é…ç½® (View Configuration)
æ§åˆ¶å¤šè§†è§’ç”Ÿæˆçš„è§†è§’æ•°é‡å’Œæ–¹å‘
```bash
--views {4,6,8}          # æ ‡å‡†è§†è§’æ•°é‡ (å¯ç®€å†™ä¸º -v)
--custom-views VIEW...   # è‡ªå®šä¹‰è§†è§’åˆ—è¡¨
--iterative-360 {4,6,8}  # è¿­ä»£360åº¦æ¨¡å¼ï¼Œæé«˜ä¸€è‡´æ€§
```

### âœ¨ è´¨é‡è®¾ç½® (Quality Settings)
æ§åˆ¶ç”Ÿæˆè´¨é‡å’Œæ¨¡å‹é€‰æ‹©
```bash
--resolution {1K,2K,4K}  # å›¾åƒåˆ†è¾¨ç‡ (å¯ç®€å†™ä¸º --res)
--model MODEL            # æŒ‡å®šç”Ÿæˆæ¨¡å‹ (åˆ«å: --engine)
--pro                    # å¯ç”¨Proæ¨¡å‹ (åˆ«å: --high-quality)
--aspect-ratio RATIO     # å›¾åƒå®½é«˜æ¯” (åˆ«å: --ratio)
```

### ğŸ¨ é£æ ¼é…ç½® (Style Configuration)
é€‰æ‹©è§’è‰²çš„è‰ºæœ¯é£æ ¼å’Œè§†è§‰æ•ˆæœ
```bash
--style STYLE            # è‡ªå®šä¹‰é£æ ¼æè¿°æˆ–é¢„è®¾åç§°
--list-styles            # åˆ—å‡ºæ‰€æœ‰å¯ç”¨é£æ ¼é¢„è®¾

# é£æ ¼é¢„è®¾åˆ†ç±» (äº’æ–¥ç»„):
# åŸºç¡€ç±»å‹
--photorealistic --anime --comic --3d-toon

# è‰ºæœ¯ç±»å‹  
--watercolor --oil --ghibli --minimal

# æ¸¸æˆ/æ•°å­—ç±»å‹
--pixel --minecraft --lowpoly

# æè´¨ç±»å‹
--clay --plush --paper

# ä¸»é¢˜ç±»å‹
--cyberpunk --fantasy
```

### ğŸš€ 3Dè½¬æ¢è®¾ç½® (3D Conversion)
æ§åˆ¶3Dæ¨¡å‹ç”Ÿæˆå’Œè´¨é‡
```bash
--to-3d                  # ç”Ÿæˆåè‡ªåŠ¨è½¬3D (åˆ«å: --3d)
--algo ALGO              # 3Dé‡å»ºç®—æ³• (åˆ«å: --algorithm)
--3d-quality {balanced,high,ultra}  # 3Dè´¨é‡ (åˆ«å: --quality)
--geometry-only          # ä»…ç”Ÿæˆå‡ ä½•ä½“ (åˆ«å: --fast-3d)
--pose FILE              # å§¿åŠ¿æ§åˆ¶æ–‡ä»¶
```

### ğŸ‘— æ¢è£…ç¼–è¾‘è®¾ç½® (Wardrobe & Editing)
æœè£…æ›´æ¢å’Œè§’è‰²ç¼–è¾‘åŠŸèƒ½
```bash
--wear IMAGE...          # æ¢è£…æ¨¡å¼ (åˆ«å: --outfit)
--accessory IMAGE...     # é…é¥°æ¨¡å¼ (åˆ«å: --add-item)
--wear-strict            # æ¢è£…ä¸¥æ ¼æ¨¡å¼
--wear-model {flash,pro} # æ¢è£…æ‰€ç”¨æ¨¡å‹
```

### ğŸ”§ å¤„ç†é€‰é¡¹ (Processing Options)
å›¾åƒå¤„ç†å’Œè¾“å‡ºæ§åˆ¶
```bash
--no-cut                 # ç¦ç”¨è‡ªåŠ¨åˆ‡å‰² (åˆ«å: --no-crop)
--preprocess             # é¢„å¤„ç†è¾“å…¥å›¾åƒ (åˆ«å: --clean)
--subject-only           # ä»…å¤„ç†ä¸»ä½“è§’è‰² (åˆ«å: --isolate)
--with-props PROP...     # æŒ‡å®šè¦ä¿ç•™çš„é“å…·
--export-prompt          # ä»…å¯¼å‡ºæç¤ºè¯ (åˆ«å: --dry-run)
```

### ğŸ” æ™ºèƒ½éªŒè¯è®¾ç½® (Smart Validation)
è‡ªåŠ¨æ£€æµ‹å’Œè¡¥å…¨ç¼ºå¤±è§†è§’
```bash
--auto-complete          # è‡ªåŠ¨éªŒè¯å¹¶è¡¥å…¨ (åˆ«å: --smart-fix)
--validate-only          # ä»…éªŒè¯ä¸è¡¥å…¨ (åˆ«å: --check-only)
--max-retries N          # æœ€å¤§é‡è¯•æ¬¡æ•°
```

### âš™ï¸ é«˜çº§è®¾ç½® (Advanced Settings)
ä¸“ä¸šç”¨æˆ·å’Œç‰¹æ®Šç”¨é€”çš„é«˜çº§é€‰é¡¹
```bash
--local-url URL          # æœ¬åœ°Z-ImageæœåŠ¡åœ°å€
--local-steps N          # æœ¬åœ°æ¨¡å‹æ¨ç†æ­¥æ•°
--analysis-api {auto,proxy,direct,local}  # å›¾åƒåˆ†æAPIé€‰æ‹©
--no-negative            # ç¦ç”¨è´Ÿé¢æç¤ºè¯
--negative-categories CAT...  # è´Ÿé¢æç¤ºè¯ç±»åˆ«
```

### ğŸ› ï¸ ä¸“ä¸šç¼–è¾‘æ¨¡å¼ (Edit Modes)
P0é«˜ä¼˜å…ˆçº§å›¾åƒç¼–è¾‘å’Œä¿®å¤åŠŸèƒ½
```bash
# ç¼–è¾‘æ¨¡å¼é€‰æ‹© (äº’æ–¥)
--mode-edit              # å…ƒç´ ç¼–è¾‘æ¨¡å¼
--mode-refine            # ç»†èŠ‚ä¿®å¤æ¨¡å¼
--mode-style             # é£æ ¼è½¬æ¢æ¨¡å¼
--mode-composite         # å›¾åƒåˆæˆæ¨¡å¼
--mode-preserve          # é«˜ä¿çœŸç¼–è¾‘æ¨¡å¼

# ç¼–è¾‘å‚æ•°
--edit-elements ACTION   # ç¼–è¾‘æŒ‡ä»¤
--from-edited IMAGE      # ç¼–è¾‘æºå›¾åƒ (åˆ«å: --edit-source)
--refine-details PART    # è¦ä¿®å¤çš„éƒ¨ä½ (åˆ«å: --fix-part)
--detail-issue DESC      # é—®é¢˜æè¿° (åˆ«å: --problem)

# é£æ ¼è½¬æ¢å‚æ•°
--style-preset PRESET   # é£æ ¼é¢„è®¾
--custom-style DESC     # è‡ªå®šä¹‰é£æ ¼æè¿°
--preserve-details       # ä¿ç•™åŸå§‹ç»†èŠ‚

# åˆæˆå‚æ•°
--composite-images IMG...     # è¦åˆæˆçš„å›¾ç‰‡
--composite-instruction TEXT  # åˆæˆæŒ‡ä»¤
--composite-type TYPE        # åˆæˆç±»å‹

# é«˜ä¿çœŸç¼–è¾‘å‚æ•°
--preserve-image IMAGE       # ä¸»å›¾ç‰‡è·¯å¾„
--preserve-element IMAGE     # å…ƒç´ å›¾ç‰‡è·¯å¾„
--preserve-detail-desc DESC  # è¦ä¿ç•™çš„ç»†èŠ‚æè¿°
--preserve-instruction TEXT  # ä¿®æ”¹æŒ‡ä»¤
```

## ğŸš€ ç°ä»£åŒ–æ”¹è¿›ç‰¹æ€§

### 1. **å‚æ•°åˆ«åæ”¯æŒ**
- ä¸»è¦å‚æ•°éƒ½æä¾›äº†ç›´è§‚çš„åˆ«å
- ä¾‹å¦‚: `--input` (æ–°) = `--from-image` (å…¼å®¹)
- ä¾‹å¦‚: `--res` = `--resolution`, `--3d` = `--to-3d`

### 2. **åˆ†ç»„å¸®åŠ©ä¿¡æ¯**
```bash
python scripts/generate_character.py --help
```
ç°åœ¨æŒ‰åŠŸèƒ½åˆ†ç»„æ˜¾ç¤ºï¼Œæ›´æ˜“ç†è§£

### 3. **æ™ºèƒ½é”™è¯¯æç¤º**
- è‡ªåŠ¨æ£€æµ‹å¸¸è§æ‹¼å†™é”™è¯¯
- æä¾›æ­£ç¡®å‚æ•°å»ºè®®
- å‹å¥½çš„é”™è¯¯ä¿¡æ¯

### 4. **äº’æ–¥å‚æ•°ç»„**
- é£æ ¼é¢„è®¾è‡ªåŠ¨äº’æ–¥ï¼Œé¿å…å†²çª
- ç¼–è¾‘æ¨¡å¼è‡ªåŠ¨äº’æ–¥ï¼Œé€»è¾‘æ¸…æ™°

### 5. **ç®€å†™æ”¯æŒ**
- `-v` = `--views`
- `-o` = `--output` 
- æ›´ç¬¦åˆç°ä»£CLIå·¥å…·ä¹ æƒ¯

## ğŸ“‹ å¿«é€Ÿä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³• (æ›´ç®€æ´)
```bash
# åŸºæœ¬ç”Ÿæˆ - ä½¿ç”¨æ–°çš„ç®€å†™å‚æ•°
python scripts/generate_character.py "èµ›åšæœ‹å…‹å¥³æˆ˜å£«" --cyberpunk -v 8

# å›¾ç‰‡å‚è€ƒ - ä½¿ç”¨æ–°åˆ«å
python scripts/generate_character.py --input photo.jpg --anime --to-3d

# é«˜è´¨é‡è¾“å‡º - ç»„åˆç®€å†™
python scripts/generate_character.py "é­”æ³•å¸ˆ" --pro --res 4K --quality ultra
```

### æ¢è£…åŠŸèƒ½ (æ›´ç›´è§‚)
```bash
# åŸºç¡€æ¢è£…
python scripts/generate_character.py --input model.jpg --wear dress.png

# å¤šé…é¥°
python scripts/generate_character.py --input model.jpg --accessory hat.png bag.png shoes.png
```

### ä¸“ä¸šç¼–è¾‘ (æ›´æ¸…æ™°)
```bash
# ç»†èŠ‚ä¿®å¤
python scripts/generate_character.py --mode-refine --fix-part hands --problem "6æ ¹æ‰‹æŒ‡" --fix-source image.jpg

# é£æ ¼è½¬æ¢  
python scripts/generate_character.py --mode-style --style-preset anime --style-source photo.jpg

# å›¾åƒåˆæˆ
python scripts/generate_character.py --mode-composite --composite-images model.png dress.png --composite-instruction "ç©¿ä¸Šè£™å­"
```

### æ™ºèƒ½è¡¥å…¨ (æ–°åŠŸèƒ½)
```bash
# è‡ªåŠ¨æ£€æµ‹å’Œè¡¥å…¨ç¼ºå¤±è§†è§’
python scripts/generate_character.py "æœºå™¨äºº" -v 8 --smart-fix

# ä»…éªŒè¯ä¸è¡¥å…¨
python scripts/generate_character.py --input result.png --check-only
```

## ğŸ”„ è¿ç§»æŒ‡å—

### æ—§å‚æ•° â†’ æ–°å‚æ•°æ˜ å°„

| æ—§å‚æ•° | æ–°å‚æ•° | çŠ¶æ€ |
|--------|--------|------|
| `--from-image` | `--input` | âœ… å…¼å®¹ |
| `--views` | `--views` æˆ– `-v` | âœ… ç®€å†™ |
| `--resolution` | `--resolution` æˆ– `--res` | âœ… ç®€å†™ |
| `--to-3d` | `--to-3d` æˆ– `--3d` | âœ… ç®€å†™ |
| `--geometry-only` | `--fast-3d` | âœ… åˆ«å |
| `--quality` | `--3d-quality` | âœ… æ˜ç¡® |
| `--subject-only` | `--isolate` | âœ… ç›´è§‚ |
| `--auto-complete` | `--smart-fix` | âœ… ç›´è§‚ |
| `--validate-only` | `--check-only` | âœ… ç®€æ´ |

### æ–°å¢åŠŸèƒ½
- ğŸ†• å‚æ•°åˆ†ç»„æ˜¾ç¤º
- ğŸ†• æ™ºèƒ½é”™è¯¯æç¤º  
- ğŸ†• é…ç½®æ¦‚è§ˆæ˜¾ç¤º
- ğŸ†• æ›´ä¸°å¯Œçš„å¸®åŠ©ä¿¡æ¯
- ğŸ†• å‚æ•°åˆ«åç³»ç»Ÿ

## ğŸ“– è·å–å¸®åŠ©

```bash
# æŸ¥çœ‹å®Œæ•´å¸®åŠ© (æŒ‰ç»„åˆ†ç±»)
python scripts/generate_character.py --help

# æŸ¥çœ‹æ‰€æœ‰é£æ ¼é¢„è®¾
python scripts/generate_character.py --list-styles

# æŸ¥çœ‹é…ç½®æ¦‚è§ˆ
python scripts/generate_character.py "æµ‹è¯•" --preview  # ä¼šæ˜¾ç¤ºå½“å‰é…ç½®
```

é€šè¿‡è¿™æ¬¡é‡æ„ï¼ŒCortex3dçš„å‚æ•°ç³»ç»Ÿæ›´åŠ ç°ä»£åŒ–ã€ç”¨æˆ·å‹å¥½ï¼ŒåŒæ—¶ä¿æŒäº†å‘åå…¼å®¹æ€§ã€‚