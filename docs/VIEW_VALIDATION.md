# è§†è§’éªŒè¯ä¸è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½

## æ¦‚è¿°

Cortex3d ç°åœ¨æ”¯æŒ **æ™ºèƒ½è§†è§’éªŒè¯** å’Œ **è‡ªåŠ¨è¡¥å…¨** åŠŸèƒ½ã€‚ä½¿ç”¨ AI æ£€æµ‹ç”Ÿæˆçš„å¤šè§†è§’å›¾ç‰‡ä¸­æ¯ä¸ªé¢æ¿çš„å®é™…è§†è§’ï¼Œä¸æœŸæœ›è§†è§’å¯¹æ¯”ï¼Œè‡ªåŠ¨å‘ç°å¹¶è¡¥å…¨ç¼ºå¤±çš„è§†è§’ã€‚

## èµ„æº ID ç»Ÿä¸€è¿½è¸ª

æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶ä½¿ç”¨ç»Ÿä¸€çš„èµ„æº ID å‘½åï¼Œæ–¹ä¾¿ç®¡ç†ï¼š

```
ç”Ÿæˆ:  294829fb-6da7-45a7-bbfe-5318999084c7.jpg          # åŸå§‹å¤šè§†è§’å›¾
åˆ‡å‰²:  294829fb-6da7-45a7-bbfe-5318999084c7_front.png    # æ­£é¢
       294829fb-6da7-45a7-bbfe-5318999084c7_right.png    # å³ä¾§
       294829fb-6da7-45a7-bbfe-5318999084c7_back.png     # èƒŒé¢
       294829fb-6da7-45a7-bbfe-5318999084c7_left.png     # å·¦ä¾§
è¡¥å…¨:  294829fb-6da7-45a7-bbfe-5318999084c7_right.png    # å¦‚æœç¼ºå¤± rightï¼Œè¡¥å…¨ä¹Ÿä½¿ç”¨åŒä¸€ ID
```

ç³»ç»Ÿä¼šè‡ªåŠ¨ä»è¾“å…¥å›¾ç‰‡è·¯å¾„æå–èµ„æº IDï¼Œæˆ–è€…ä½ å¯ä»¥æ‰‹åŠ¨æŒ‡å®š `--asset-id`ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. è§†è§’æ£€æµ‹
- ä½¿ç”¨ Gemini AI åˆ†æå¤šè§†è§’å›¾ç‰‡
- è¯†åˆ«æ¯ä¸ªé¢æ¿çš„ç›¸æœºè§’åº¦ (front, right, back, left, top, bottom ç­‰)
- è¿”å›ç½®ä¿¡åº¦è¯„åˆ†å’Œæ¨ç†è¯´æ˜

### 2. éªŒè¯æ¯”å¯¹
- æ¯”å¯¹æ£€æµ‹åˆ°çš„è§†è§’ä¸æœŸæœ›è§†è§’
- å‘ç°ç¼ºå¤±å’Œé‡å¤çš„è§†è§’
- ç”Ÿæˆæ”¹è¿›å»ºè®®

### 3. è‡ªåŠ¨è¡¥å…¨
- è‡ªåŠ¨ç”Ÿæˆç¼ºå¤±çš„è§†è§’
- ä¿æŒä¸åŸå›¾è§’è‰²çš„ä¸€è‡´æ€§
- æ”¯æŒå¤šæ¬¡è¿­ä»£ç›´åˆ°å®Œæˆ

## ä½¿ç”¨æ–¹æ³•

### æ–¹å¼ä¸€ï¼šé›†æˆåˆ°ç”Ÿæˆæµç¨‹

åœ¨ `generate_character.py` ä¸­ä½¿ç”¨ `--auto-complete` å‚æ•°ï¼š

```bash
# ç”Ÿæˆ 4 è§†è§’å›¾å¹¶è‡ªåŠ¨éªŒè¯è¡¥å…¨
python scripts/generate_character.py \
  --from-image reference.png \
  --views 4 \
  --auto-complete

# ç”Ÿæˆ 8 è§†è§’å›¾å¹¶éªŒè¯
python scripts/generate_character.py \
  --from-image reference.png \
  --views 8 \
  --auto-complete \
  --max-completion-retries 5
```

### æ–¹å¼äºŒï¼šä»…éªŒè¯ï¼ˆä¸è¡¥å…¨ï¼‰

```bash
# ä»…éªŒè¯ï¼ŒæŸ¥çœ‹ç¼ºå¤±äº†å“ªäº›è§†è§’
python scripts/generate_character.py \
  --from-image reference.png \
  --views 4 \
  --validate-only
```

### æ–¹å¼ä¸‰ï¼šç‹¬ç«‹éªŒè¯å·¥å…·

å¯¹å·²ç”Ÿæˆçš„å›¾ç‰‡è¿›è¡ŒåéªŒè¯ï¼š

```bash
# åˆ†æå›¾ç‰‡ä¸­çš„å®é™…è§†è§’
python scripts/validate_views.py outputs/xxx.png --analyze-only

# éªŒè¯ 4 è§†è§’
python scripts/validate_views.py outputs/xxx.png --preset 4-view

# éªŒè¯è‡ªå®šä¹‰è§†è§’ç»„åˆ
python scripts/validate_views.py outputs/xxx.png --views front left back_left

# éªŒè¯å¹¶è‡ªåŠ¨è¡¥å…¨
python scripts/validate_views.py outputs/xxx.png \
  --auto-complete \
  --reference reference.png \
  --style anime

# JSON è¾“å‡ºï¼ˆä¾¿äºç¨‹åºå¤„ç†ï¼‰
python scripts/validate_views.py outputs/xxx.png --json
```

## å‚æ•°è¯´æ˜

### generate_character.py æ–°å¢å‚æ•°

| å‚æ•° | è¯´æ˜ |
|------|------|
| `--auto-complete` | å¯ç”¨è‡ªåŠ¨éªŒè¯å’Œè¡¥å…¨ |
| `--validate-only` | ä»…éªŒè¯ï¼Œä¸è¡¥å…¨ |
| `--max-completion-retries N` | æœ€å¤§è¡¥å…¨è¿­ä»£æ¬¡æ•° (é»˜è®¤: 3) |

### validate_views.py å‚æ•°

| å‚æ•° | è¯´æ˜ |
|------|------|
| `image` | è¦éªŒè¯çš„å›¾ç‰‡è·¯å¾„ |
| `--views VIEW...` | æœŸæœ›çš„è§†è§’åˆ—è¡¨ |
| `--preset {4-view,6-view,8-view}` | ä½¿ç”¨é¢„è®¾è§†è§’ç»„ |
| `--analyze-only` | ä»…åˆ†æï¼Œä¸éªŒè¯ |
| `--auto-complete` | è‡ªåŠ¨è¡¥å…¨ç¼ºå¤±è§†è§’ |
| `--reference PATH` | è¡¥å…¨æ—¶ä½¿ç”¨çš„å‚è€ƒå›¾ |
| `--style NAME` | è¡¥å…¨æ—¶çš„é£æ ¼ |
| `--output DIR` | è¾“å‡ºç›®å½•ï¼ˆé»˜è®¤ä¸è¾“å…¥å›¾ç‰‡åŒç›®å½•ï¼‰ |
| `--asset-id ID` | èµ„æº IDï¼ˆç»Ÿä¸€å‘½åï¼Œé»˜è®¤è‡ªåŠ¨æå–ï¼‰ |
| `--max-retries N` | æœ€å¤§é‡è¯•æ¬¡æ•° |
| `--json` | JSON æ ¼å¼è¾“å‡º |
| `--quiet` | å®‰é™æ¨¡å¼ |

## è§†è§’å®šä¹‰

ç³»ç»Ÿæ”¯æŒä»¥ä¸‹è§†è§’æ ‡è¯†ï¼š

| è§†è§’ | è§’åº¦ | è¯´æ˜ |
|------|------|------|
| `front` | 0Â° | æ­£é¢ï¼Œçœ‹åˆ°è„¸ |
| `front_right` | 45Â° | å³å‰æ–¹ 45Â° |
| `right` | 90Â° | å³ä¾§é¢ï¼Œè„¸æœå·¦ |
| `back_right` | 135Â° | å³åæ–¹ |
| `back` | 180Â° | èƒŒé¢ï¼Œçœ‹ä¸åˆ°è„¸ |
| `back_left` | 225Â° | å·¦åæ–¹ |
| `left` | 270Â° | å·¦ä¾§é¢ï¼Œè„¸æœå³ |
| `front_left` | 315Â° | å·¦å‰æ–¹ 45Â° |
| `top` | â†“ | ä¿¯è§† |
| `bottom` | â†‘ | ä»°è§† |

## é¢„è®¾è§†è§’ç»„

### 4-view (é»˜è®¤)
```
front, right, back, left
```

### 6-view
```
front, front_right, right, back, back_left, left
```

### 8-view
```
front, front_right, right, back, back_left, left, top, bottom
```

## å·¥ä½œæµç¨‹ç¤ºæ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”Ÿæˆå¤šè§†è§’å›¾   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AI è§†è§’æ£€æµ‹   â”‚ â—„â”€â”€ åˆ†ææ¯ä¸ªé¢æ¿
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ¯”å¯¹æœŸæœ›è§†è§’   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
  å®Œæ•´      ç¼ºå¤±
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®Œæˆ! â”‚ â”‚ è‡ªåŠ¨è¡¥ç”Ÿæˆ   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ ä¿å­˜è¡¥å…¨é¢æ¿   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è¾“å‡ºç¤ºä¾‹

### éªŒè¯æˆåŠŸ
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” å¯åŠ¨è§†è§’éªŒè¯...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  â””â”€ æœŸæœ›è§†è§’: ['front', 'right', 'back', 'left']

[åˆ†æ] æ­£åœ¨åˆ†æå›¾ç‰‡: outputs/xxx.png
[æ£€æµ‹ç»“æœ] æ£€æµ‹åˆ° 4 ä¸ªé¢æ¿: ['front', 'right', 'back', 'left']
[éªŒè¯] ç¼ºå¤±: []
[éªŒè¯] å®Œæ•´: True

ğŸ“Š éªŒè¯ç»“æœ:
  æ£€æµ‹åˆ°çš„è§†è§’: ['front', 'right', 'back', 'left']
  ç¼ºå¤±çš„è§†è§’: []
  éªŒè¯é€šè¿‡: âœ… æ˜¯
```

### éªŒè¯å¤±è´¥ + è‡ªåŠ¨è¡¥å…¨
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” å¯åŠ¨è§†è§’éªŒè¯...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[æ£€æµ‹ç»“æœ] æ£€æµ‹åˆ° 4 ä¸ªé¢æ¿: ['front', 'front', 'back', 'left']
[éªŒè¯] ç¼ºå¤±: ['right']

[è¿­ä»£ 1/3]
[è¡¥å…¨] å°è¯•ç”Ÿæˆ: right
[è¡¥å…¨] ç”ŸæˆæˆåŠŸ: outputs/validated/è¡¥å…¨_right_xxx.png

ğŸ“Š è¡¥å…¨ç»“æœ:
  çŠ¶æ€: partial_completion
  è¿­ä»£æ¬¡æ•°: 1
  éªŒè¯é€šè¿‡: âŒ å¦

ğŸ“ ç”Ÿæˆçš„è¡¥å…¨é¢æ¿:
  - right: outputs/validated/è¡¥å…¨_right_xxx.png

âš ï¸ ä»ç¼ºå¤±çš„è§†è§’: []
   æç¤º: è¡¥å…¨é¢æ¿å·²ç”Ÿæˆï¼Œå¯æ‰‹åŠ¨æ›¿æ¢åŸå›¾ä¸­é‡å¤çš„é¢æ¿
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæ£€æµ‹ç»“æœä¸å‡†ç¡®ï¼Ÿ
A: AI è§†è§’æ£€æµ‹ä¾èµ–äºå›¾ç‰‡è´¨é‡å’Œè§’è‰²å§¿æ€çš„æ¸…æ™°åº¦ã€‚å»ºè®®ï¼š
- ä½¿ç”¨é«˜åˆ†è¾¨ç‡å›¾ç‰‡
- ç¡®ä¿è§’è‰²åœ¨é¢æ¿ä¸­è¶³å¤Ÿå¤§
- é¿å…é®æŒ¡è§’è‰²çš„é‡è¦ç‰¹å¾

### Q: è¡¥å…¨çš„è§†è§’ä¸åŸå›¾é£æ ¼ä¸ä¸€è‡´ï¼Ÿ
A: ä½¿ç”¨ `--reference` å’Œ `--style` å‚æ•°ï¼š
```bash
python validate_views.py output.png --auto-complete --reference original.png --style anime
```

### Q: å¦‚ä½•å¤„ç†æ£€æµ‹åˆ°é‡å¤è§†è§’ä½†ä¸ç¼ºå¤±çš„æƒ…å†µï¼Ÿ
A: ç›®å‰éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚ç³»ç»Ÿä¼šæŠ¥å‘Šé‡å¤è§†è§’ï¼Œä½†ä¸ä¼šè‡ªåŠ¨æ›¿æ¢ã€‚

## æŠ€æœ¯ç»†èŠ‚

- **æ£€æµ‹æ¨¡å‹**: Gemini 2.0 Flash
- **è¡¥å…¨æ¨¡å‹**: Gemini 2.0 Flash Exp (å›¾åƒç”Ÿæˆ)
- **æ”¯æŒæ ¼å¼**: PNG, JPG, WEBP
- **ä¾èµ–**: `google-generativeai`, `Pillow`

## ç›¸å…³æ–‡ä»¶

- [scripts/view_validator.py](../scripts/view_validator.py) - éªŒè¯å™¨æ ¸å¿ƒæ¨¡å—
- [scripts/validate_views.py](../scripts/validate_views.py) - ç‹¬ç«‹å‘½ä»¤è¡Œå·¥å…·
- [scripts/generate_character.py](../scripts/generate_character.py) - é›†æˆå…¥å£
