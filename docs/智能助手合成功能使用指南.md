# 智能助手图像合成功能使用指南

## 🎯 智能助手如何生成合成参数

智能助手现已支持图像合成功能，能够理解自然语言输入并生成对应的 `--mode-composite` 参数。

### 📝 使用步骤

#### 1. 启动智能助手
```bash
python scripts/generate_character.py --ai-assistant
```

#### 2. 描述合成需求
您可以用以下方式描述需求：

**✅ 推荐的表达方式：**
```text
"我要给这个人穿上一件衣服，有两张图片：3.png是人物，clothing.png是衣服"
"换装功能，让角色穿上新衣服"
"图像合成，把服装和人物结合"
"给角色添加装备和道具"
"composite模式，合成两张图片"
```

#### 3. 补充具体信息
智能助手会询问：
- 🎨 风格偏好（动漫、写实、像素等）
- ⚡ 质量要求（快速/平衡/高质量）
- 📋 用途说明（学习/项目/商用）

**示例回复：**
```text
"写实风格，高质量，项目用途"
"动漫风格，快速预览，个人娱乐"
```

#### 4. 获得智能推荐
智能助手会生成类似这样的参数：
```bash
python scripts/generate_character.py \
  --mode-composite \
  --photorealistic \
  --pro \
  --res 4K \
  --ratio 3:2 \
  --auto-complete \
  --composite-instruction "将元素进行智能合成" \
  --preview
```

#### 5. 手动补充具体文件
您需要手动添加：
```bash
--composite-images 3.png _extracted_nobg__extracted_clothing_Image_20260124190005_165_113.png
--composite-instruction "给这个人穿上这件衣服"
```

### 🚀 完整命令示例

根据您的需求，最终命令应该是：
```bash
python scripts/generate_character.py \
  --mode-composite \
  --composite-images 3.png _extracted_nobg__extracted_clothing_Image_20260124190005_165_113.png \
  --composite-instruction "给这个人穿上这件衣服" \
  --photorealistic \
  --pro \
  --res 4K \
  --auto-complete \
  --preview
```

### 💡 智能助手的优势

1. **自然语言理解**：无需记忆复杂参数名称
2. **智能推荐**：根据需求推荐最佳参数组合
3. **质量优化**：自动配置分辨率、模型等参数
4. **多种方案**：提供速度优化和质量增强版本

### 🔄 不同场景的智能助手调用

#### 动漫风格换装
```text
用户输入："换装，动漫风格，快速预览"
智能助手生成：
  --mode-composite
  --anime
  -v 6
  --res 2K
  --composite-instruction "将元素进行智能合成"
```

#### 写实风格高质量合成
```text
用户输入："图像合成，写实风格，高质量，项目用途"  
智能助手生成：
  --mode-composite
  --photorealistic
  --pro
  --res 4K
  --ratio 3:2
  --auto-complete
  --composite-instruction "将元素进行智能合成"
```

#### 像素风格游戏角色
```text
用户输入："给角色添加装备，像素风格，游戏项目"
智能助手生成：
  --mode-composite
  --pixel
  -v 8
  --3d
  --fast-3d
  --composite-instruction "将元素进行智能合成"
```

### ⚠️ 注意事项

1. **文件路径**：智能助手无法知道具体的文件名，需要手动指定 `--composite-images`
2. **合成指令**：建议根据实际需求修改 `--composite-instruction` 的内容
3. **参数验证**：生成参数后建议先用 `--dry-run` 测试

### 📊 对比：手动 vs 智能助手

| 方式 | 复杂度 | 准确性 | 效率 |
|------|--------|--------|------|
| 手动参数 | 高 | 需要经验 | 慢 |
| 智能助手 | 低 | 智能推荐 | 快 |

智能助手让图像合成功能变得更加易用！