# æ™ºèƒ½è¡£æœæå–ä¸æ¢è£…åŠŸèƒ½

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

ç°åœ¨ `--mode-composite` æ”¯æŒ**æ™ºèƒ½è¡£æœæå–**åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨åˆ†æè¡£æœå›¾ç‰‡å¹¶è¿›è¡Œæ™ºèƒ½å¤„ç†ï¼Œæ— è®ºå›¾ç‰‡æ˜¯ï¼š
- âœ… çº¯è¡£æœï¼ˆæ— èƒŒæ™¯ï¼‰
- âœ… çº¯è¡£æœï¼ˆæœ‰èƒŒæ™¯ï¼‰  
- âœ… **ç©¿ç€è¡£æœçš„äºº**ï¼ˆè‡ªåŠ¨æå–è¡£æœï¼‰

ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. ğŸ” AIåˆ†æå›¾ç‰‡å†…å®¹
2. ğŸ”ª å»é™¤èƒŒæ™¯ï¼ˆå¦‚éœ€è¦ï¼‰
3. ğŸ‘• æå–è¡£æœï¼ˆå¦‚æœæ˜¯ç©¿ç€è¡£æœçš„äººï¼‰
4. ğŸ¨ åˆæˆåˆ°ç›®æ ‡äººç‰©èº«ä¸Š

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€å‘½ä»¤

```bash
python scripts/generate_character.py \
    --mode-composite \
    --composite-images ä¸»å›¾.png è¡£æœå›¾.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ"
```

**é»˜è®¤è¡Œä¸º**ï¼šè‡ªåŠ¨å¯ç”¨æ™ºèƒ½æå–ï¼ˆ`--composite-smart-extract` é»˜è®¤å¼€å¯ï¼‰

---

## ğŸ“– è¯¦ç»†ç¤ºä¾‹

### ç¤ºä¾‹1: è¡£æœæ˜¯çº¯è¡£æœå›¾ç‰‡ï¼ˆæœ‰èƒŒæ™¯ï¼‰

```bash
python scripts/generate_character.py \
    --mode-composite \
    --composite-images model.png dress_with_bg.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶çº¢è‰²è£™å­"
```

**å¤„ç†æµç¨‹**ï¼š
1. AIæ£€æµ‹ï¼šå‘ç°æ˜¯çº¯è¡£æœä½†æœ‰èƒŒæ™¯
2. è‡ªåŠ¨å»é™¤èƒŒæ™¯
3. åˆæˆåˆ°model.pngçš„äººç‰©èº«ä¸Š

---

### ç¤ºä¾‹2: è¡£æœå›¾æ˜¯ç©¿ç€è¡£æœçš„äººï¼ˆä½ çš„åœºæ™¯ï¼‰

```bash
python scripts/generate_character.py \
    --mode-composite \
    --composite-images 3.png b92b7d77-bda2-4374-bd8c-cedf9cd55195.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ"
```

**å¤„ç†æµç¨‹**ï¼š
1. AIæ£€æµ‹ï¼šå‘ç° `b92b7d77...jpg` æ˜¯ç©¿ç€è¡£æœçš„äºº
2. å…ˆå»é™¤èƒŒæ™¯
3. å†ç”¨AIæå–å‡ºè¿™ä¸ªäººèº«ä¸Šçš„è¡£æœ
4. å°†æå–çš„è¡£æœç©¿åˆ° `3.png` çš„äººç‰©èº«ä¸Š

**è¾“å‡º**ï¼š
```
ğŸ§  æ™ºèƒ½è¡£æœæå–é¢„å¤„ç†
  æ£€æµ‹åˆ° 2 å¼ å›¾ç‰‡ï¼Œå¼€å§‹åˆ†æ...

  [å›¾ç‰‡ 2] åˆ†æ: b92b7d77-bda2-4374-bd8c-cedf9cd55195.jpg
  ğŸ” æ­¥éª¤1: AIåˆ†æå›¾ç‰‡å†…å®¹...
     ğŸ“‹ åˆ†æç»“æœ:
     Content: Person wearing clothing
     Has background: Yes
     âœ… æ£€æµ‹ç»“æœ: å†…å®¹=person_wearing, èƒŒæ™¯=true
  ğŸ‘¤ æ£€æµ‹åˆ°ç©¿ç€è¡£æœçš„äºº
  ğŸ”ª æ­¥éª¤2a: å»é™¤èƒŒæ™¯...
     âœ… èƒŒæ™¯å·²å»é™¤
  ğŸ¨ æ­¥éª¤2b: AIæå–è¡£æœ...
     âœ… è¡£æœæå–å®Œæˆ: _extracted_clothing_b92b7d77.png
  âœ… æå–å®Œæˆ: _extracted_clothing_b92b7d77.png

  âœ… é¢„å¤„ç†å®Œæˆï¼Œå‡†å¤‡è¿›è¡Œåˆæˆ...
```

---

### ç¤ºä¾‹3: ç¦ç”¨æ™ºèƒ½æå–ï¼ˆç›´æ¥ä½¿ç”¨åŸå›¾ï¼‰

å¦‚æœä½ æƒ³è·³è¿‡æ™ºèƒ½åˆ†æï¼Œç›´æ¥ä½¿ç”¨åŸå›¾ï¼š

```bash
python scripts/generate_character.py \
    --mode-composite \
    --composite-images model.png clothing.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ" \
    --composite-no-smart-extract
```

---

## ğŸ¯ æ”¯æŒçš„åœºæ™¯

| è¡£æœå›¾ç‰‡ç±»å‹ | èƒŒæ™¯æƒ…å†µ | è‡ªåŠ¨å¤„ç† |
|------------|---------|---------|
| çº¯è¡£æœ | æ— èƒŒæ™¯ | âœ… ç›´æ¥ä½¿ç”¨ |
| çº¯è¡£æœ | æœ‰èƒŒæ™¯ | âœ… å»é™¤èƒŒæ™¯ |
| çº¯è¡£æœ | å¤æ‚èƒŒæ™¯ | âœ… æ™ºèƒ½å»é™¤èƒŒæ™¯ |
| ç©¿è¡£æœçš„äºº | æ— èƒŒæ™¯ | âœ… AIæå–è¡£æœ |
| ç©¿è¡£æœçš„äºº | æœ‰èƒŒæ™¯ | âœ… å»èƒŒæ™¯ + AIæå–è¡£æœ |
| ç©¿è¡£æœçš„äºº | å¤æ‚åœºæ™¯ | âœ… æ™ºèƒ½å¤„ç† + AIæå– |

---

## âš™ï¸ æŠ€æœ¯ç»†èŠ‚

### AIåˆ†ææç¤ºè¯
ç³»ç»Ÿä½¿ç”¨ä»¥ä¸‹æç¤ºè¯åˆ†æå›¾ç‰‡ï¼š
```
Analyze this image and determine its content type:
1. Pure clothing item: Only clothing/garment visible, no person wearing it
2. Person wearing clothing: A person is wearing the clothing
3. Ambiguous: Cannot clearly determine

Also check if there is a background...
```

### è¡£æœæå–æç¤ºè¯
å½“æ£€æµ‹åˆ°ç©¿ç€è¡£æœçš„äººæ—¶ï¼Œä½¿ç”¨ï¼š
```
Extract ONLY the clothing/garment from this image of a person wearing it.
Requirements:
- Remove the person completely
- Keep only the clothing item itself
- Maintain the clothing's original shape, color, and details
...
```

### èƒŒæ™¯å»é™¤æ¨¡å‹
ä½¿ç”¨ `birefnet-general` æ¨¡å‹è¿›è¡ŒèƒŒæ™¯å»é™¤ï¼Œä¿æŒé€æ˜åº¦ã€‚

---

## ğŸ”§ å‚æ•°è¯´æ˜

| å‚æ•° | è¯´æ˜ | é»˜è®¤å€¼ |
|-----|------|--------|
| `--composite-smart-extract` | å¯ç”¨æ™ºèƒ½æå– | âœ… å¼€å¯ |
| `--composite-no-smart-extract` | ç¦ç”¨æ™ºèƒ½æå– | - |
| `--composite-type` | åˆæˆç±»å‹ | auto |
| `--mode` | APIæ¨¡å¼ | proxy |

---

## ğŸ“Š å¤„ç†æµç¨‹å›¾

```
è¾“å…¥å›¾ç‰‡
    â†“
AIåˆ†æå†…å®¹
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çº¯è¡£æœï¼Ÿç©¿è¡£æœçš„äººï¼Ÿ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“           â†“
çº¯è¡£æœ       ç©¿è¡£æœçš„äºº
    â†“           â†“
æœ‰èƒŒæ™¯ï¼Ÿ    å»é™¤èƒŒæ™¯
    â†“           â†“
  æ˜¯ â†’ å»èƒŒæ™¯   AIæå–è¡£æœ
  å¦ â†’ ç›´æ¥ç”¨    â†“
    â†“           â†“
  åˆæˆ â† â† ï¿½ï¿½ï¿½ â† â† â”˜
    â†“
è¾“å‡ºç»“æœ
```

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### æœ€ä½³å®è·µ
1. **è¡£æœå›¾è´¨é‡**ï¼šè¶Šæ¸…æ™°è¶Šå¥½ï¼Œé¿å…æ¨¡ç³Šæˆ–é®æŒ¡
2. **èƒŒæ™¯**ï¼šç®€å•èƒŒæ™¯æ›´æ˜“å¤„ç†ï¼Œä½†å¤æ‚èƒŒæ™¯ä¹Ÿæ”¯æŒ
3. **å…‰ç…§**ï¼šè¡£æœå›¾å’Œç›®æ ‡äººç‰©å…‰ç…§ç›¸è¿‘æ•ˆæœæ›´å¥½
4. **è§’åº¦**ï¼šæ­£é¢æˆ–3/4ä¾§é¢è¡£æœæ•ˆæœæœ€ä½³

### å¸¸è§é—®é¢˜

**Q: å¦‚æœAIæ£€æµ‹é”™è¯¯æ€ä¹ˆåŠï¼Ÿ**  
A: å¯ä»¥ä½¿ç”¨ `--composite-no-smart-extract` ç¦ç”¨æ™ºèƒ½æå–ï¼Œç›´æ¥ä½¿ç”¨åŸå›¾

**Q: æå–çš„è¡£æœè´¨é‡ä¸å¥½ï¼Ÿ**  
A: å°è¯•ä½¿ç”¨æ›´é«˜è´¨é‡çš„è¡£æœå›¾ç‰‡ï¼Œæˆ–åˆ‡æ¢åˆ° `--wear-model pro` ä½¿ç”¨æ›´å¼ºå¤§çš„æ¨¡å‹

**Q: å¤„ç†æ—¶é—´å¤šä¹…ï¼Ÿ**  
A: 
- ç®€å•åœºæ™¯ï¼ˆçº¯è¡£æœï¼‰ï¼š2-5ç§’
- å¤æ‚åœºæ™¯ï¼ˆæå–è¡£æœï¼‰ï¼š10-15ç§’

**Q: æ”¯æŒå¤šä»¶è¡£æœå—ï¼Ÿ**  
A: æ”¯æŒï¼å¯ä»¥æä¾›å¤šå¼ è¡£æœå›¾ç‰‡ï¼š
```bash
--composite-images model.png dress.jpg shoes.png bag.jpg
```

---

## ğŸ¨ è¿›é˜¶ç”¨æ³•

### ç»“åˆå…¶ä»–å‚æ•°

```bash
# é«˜ä¿çœŸæ¢è£…
python scripts/generate_character.py \
    --mode-composite \
    --composite-images model.png person_wearing_dress.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ" \
    --wear-model pro

# æŒ‡å®šè¾“å‡ºåç§°
python scripts/generate_character.py \
    --mode-composite \
    --composite-images 3.png b92b7d77.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ" \
    --composite-output-name my_styled_character.png

# è‡ªå®šä¹‰åˆæˆç±»å‹
python scripts/generate_character.py \
    --mode-composite \
    --composite-images model.png dress.jpg \
    --composite-instruction "è®©è¿™ä¸ªäººç©¿ä¸Šè¿™ä»¶è¡£æœ" \
    --composite-type clothing
```

---

## ğŸš§ é™åˆ¶ä¸æ³¨æ„äº‹é¡¹

1. **APIè°ƒç”¨**ï¼šæ™ºèƒ½æå–éœ€è¦è°ƒç”¨2-3æ¬¡AIï¼ˆåˆ†æ+æå–+åˆæˆï¼‰
2. **æˆæœ¬**ï¼šä½¿ç”¨ flash æ¨¡å‹çº¦ $0.003-0.006/æ¬¡ï¼Œpro æ¨¡å‹çº¦ $0.04-0.08/æ¬¡
3. **å‡†ç¡®æ€§**ï¼šAIåˆ†æå‡†ç¡®ç‡çº¦90%+ï¼Œå¤æ‚åœºæ™¯å¯èƒ½éœ€è¦äººå·¥æ£€æŸ¥
4. **è¡£æœç±»å‹**ï¼šè¿è¡£è£™ã€Tæ¤ã€å¤–å¥—ç­‰æ•ˆæœæœ€å¥½ï¼Œå¤æ‚é…é¥°å¯èƒ½éœ€è¦è°ƒæ•´

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Gemini å›¾åƒç¼–è¾‘é€ŸæŸ¥è¡¨](GEMINI_IMAGE_EDITING_CHEATSHEET.md)
- [æ¢è£…åŠŸèƒ½æ–‡æ¡£](../prompts/wardrobe.py)
- [å›¾åƒå¤„ç†æ¨¡å—](../scripts/image_processor.py)

---

**æœ€åæ›´æ–°**: 2026-01-24  
**ç‰ˆæœ¬**: v1.0  
**çŠ¶æ€**: âœ… å·²å®ç°
